@startuml
actor RUC
participant ":UI" as UI
participant ":Controller" as ctr
participant ":CourseEditionEnrolmentRepository" as CEER
participant ":GradeStudentRepository" as GR
participant ":GradeStudentFactory" as GSF

autonumber

RUC -> UI ++ #application: I want to grade a Student in a Course Edition
UI --> RUC --: Grade, Date, CourseEdition, Student?
RUC -> UI ++ #application: Grade, Date, CourseEdition, Student!
UI -> ctr ++ #application : IWantToGradeStudent (Grade, Date, Student, CourseEdition)
ctr -> CEER ++ #application : isStudentEnrolledInCourseEdition (Student, CourseEdition)
CEER --> ctr -- : true


ctr -> GR ++ #application : addGradeToStudent (Grade, Date, Student, CourseEdition)
GR -> GSF ++ #application : newStudentGrade (Grade, Date, Student, CourseEdition)



create "sg1:StudentGrade" as GS
GSF -> GS ++ #application : <Create> (Grade, Date, Student, CourseEdition)
GS -> GS : isGradeValid()
GS -> GS : isDateValid()
GS --> GSF -- : sg1
GSF --> GR -- : sg1


GR -> GR : addGrade(sg1)
GR --> ctr --: sg1
ctr --> UI --: sg1
UI --> RUC --: Succeed

@enduml