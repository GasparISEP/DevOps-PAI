@startuml

autonumber
title As a RUC, I want to grade a Student in a Course Edition \n (Process View Level 3)
skinparam sequencemessagealign center
autonumber

actor RUC
participant ":UI" as ui #application
participant ":Controller" as controller #motivation
participant ":Service" as service #business
participant ":Repository" as repo #technology
participant ":Domain" as domain #implementation

RUC -> ui : Select **Student grading** in a **CourseEdition** functionality
activate ui
ui -> controller : **(GET)** \n Retrieve all Course Editions
activate controller
controller -> service : Retrieve all Course Editions
activate service
service -> repo : Retrieve all Course Editions
activate repo
repo ->  : Retrieve all Course Editions
repo <--  : All Course Editions

repo --> service : All Course Editions
deactivate repo
service --> controller : All Course Editions
deactivate service
controller --> ui : All Course Editions
deactivate controller


ui --> RUC : Which Course Edition?
RUC -> ui : This Course Edition!
ui --> RUC : Fill in the **Student grading** information
RUC -> ui : **(POST)** \n Submit Student grading information \n (grade, date, studentID, courseEditionID)
ui -> controller : **(POST)** \n Submit Student grading information \n (grade, date, studentID, courseEditionID)

activate controller
controller -> service : Create a new Student grade \n (grade, date, studentID, courseEditionID)

activate service
service -> repo : Validate grading constraints
activate repo
repo --> service : validated
deactivate repo

service -> domain : Create new Student grade
activate domain
domain --> service : Student Grade
deactivate domain

service -> repo : save Student Grade
activate repo
repo -> : save
repo <--  : saved!
repo --> service : Student Grade saved!
deactivate repo

service --> controller : Student Grade saved!
deactivate service

controller --> ui : Student Grade saved!
deactivate controller

ui --> RUC : Student graded successfully!
deactivate ui

@enduml