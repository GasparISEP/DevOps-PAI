@startuml

autonumber
title As a RUC, I want to grade a Student in a Course Edition \n (Process View Level 3)
skinparam sequencemessagealign center
autonumber


participant ":Router" as router <<Component>> #application
participant ":Controller" as controller <<Component>> #motivation
participant ":Service" as service <<Component>> #business
participant ":Repository" as repo <<Component>> #technology
participant ":Domain" as domain <<Component>> #implementation

 -> router : Select **Student grading** in a **CourseEdition** functionality
activate router
router -> controller : **(GET)** \n Retrieve all Course Editions
activate controller
controller -> service : Retrieve all Course Editions
activate service
service -> repo : Retrieve all Course Editions
activate repo
repo ->  : Retrieve all Course Editions
repo <--  : All Course Editions

repo --> service : All Course Editions
deactivate repo
service --> controller : All Course Editions
deactivate service
controller --> router : All Course Editions
deactivate controller


 <-- router : Which Course Edition?
 -> router : This Course Edition!
 <-- router : Fill in the **Student grading** information
 -> router : **(POST)** \n Submit Student grading information \n (grade, date, studentID, courseEditionID)
router -> controller : **(POST)** \n Submit Student grading information \n (grade, date, studentID, courseEditionID)

activate controller
controller -> service : Create a new Student grade \n (grade, date, studentID, courseEditionID)

activate service
service -> repo : Validate grading constraints
activate repo
repo --> service : validated
deactivate repo

service -> domain : Create new Student grade
activate domain
domain --> service : Student Grade
deactivate domain

service -> repo : save Student Grade
activate repo
repo -> : save
repo <--  : saved!
repo --> service : Student Grade saved!
deactivate repo

service --> controller : Student Grade saved!
deactivate service

controller --> router : Student Grade saved!
deactivate controller

 <-- router : Student graded successfully!
deactivate router

@enduml