@startuml
!pragma layout smetana

class US04_IWantToRegisterATeacherInTheSystemController {
        +US04_IWantToRegisterATeacherInTheSystemController(TeacherRepository teacherRepository, departmentRepository: DepartmentRepository)
        +registerATeacherInTheSystem(teacherID: TeacherID, name:Name, email: Email, nif: NIF, phoneNumber:PhoneNumber, academicBackground: AcademicBackground, street: Street, postalCode: PostalCode, location: Location,
                                          country: Country, departmentID: DepartmentID)
}

class TeacherRepository {
    +TeacherRepository(teacherFactory: TeacherFactory, teacherListFactory : TeacherListFactory)
    +registerTeacher(teacherID: TeacherID, name:Name, email: Email, nif: NIF, phoneNumber:PhoneNumber, academicBackground: AcademicBackground, street: Street, postalCode: PostalCode, location: Location,
                          country: Country, teacherCategory: TeacherCategory, department: Department) : boolean
}

class TeacherFactory {
    +createTeacher(TeacherID: TeacherID, name:Name, email: Email, nif: NIF, phoneNumber:PhoneNumber, academicBackground: AcademicBackground, street: Street, postalCode: PostalCode, location: Location,
                        country: Country, teacherCategory: TeacherCategory, department: Department):Teacher
}

class DepartmentRepository {
    +DepartmentRepository (departmentFactory : DepartmentFactory, departmentListFactory : DepartmentListFactory)
    +departmentExists(department: Department): boolean
}

class AddressFactory {
    + createAddress (street : Street, postalCode : PostalCode, location : Location, country : Country)
}
class ArrayList {
    +add() : boolean
}
class TeacherListFactory {
    +newArrayList() : ArrayList<Teacher>
}

interface TeacherListFactoryInterface {
    + newArrayList(): ArrayList<Teacher>
}

interface TeacherFactoryInterface{
+createTeacher(TeacherID: TeacherID, name:Name, email: Email, nif: NIF, phoneNumber:PhoneNumber, academicBackground: AcademicBackground, street: Street, postalCode: PostalCode, location: Location,
                        country: Country, teacherCategory: TeacherCategory, department: Department):Teacher
}
interface IDepartmentRepository{

    +DepartmentRepository (departmentFactory : DepartmentFactory, departmentListFactory : DepartmentListFactory)
    +departmentExists(department: Department): boolean
}
interface ITeacherRepository{
+registerTeacher(teacherID: TeacherID, name:Name, email: Email, nif: NIF, phoneNumber:PhoneNumber, academicBackground: AcademicBackground, street: Street, postalCode: PostalCode, location: Location,
                          country: Country, teacherCategory: TeacherCategory, departmentID: DepartmentID) : boolean
}
interface AddressFactoryInterface{
+createAddress((street : Street, postalCode : PostalCode, location : Location, country : Country) : Address
}
package "Department Aggregates" #lightblue {
class "<<Root>>Department" {
    +Department (departmentFactory : DepartmentFactory, departmentListFactory : DepartmentListFactory)
}
}
package "Address Aggregates"#lightgreen{
class "<<root>>Address"{
    -_street : Street
    -_postalCode : PostalCode
    -_location : Location
    -_country : Country
    +Address (street : Street, postalCode : PostalCode, location : Location, country : Country)
}
}
package "Teacher Aggregates"#lightpink{
entity "<<Root>>Teacher" {
    -_teacherId: TeacherId
            -_name: Name
            -_email: Email
            -_nif: NIF
            -_phoneNumber: PhoneNumber
            -_academicBackground: AcademicBackground
            -_address: Address
            -_department: DepartmentId
            +Teacher(teacherID: TeacherId, name: Name, email: Email, nif: NIF, phoneNumber: PhoneNumber, academicBackground: AcademicBackground,
                address: Address, departmentID: DepartmentID)
}
}
US04_IWantToRegisterATeacherInTheSystemController "1" ..> "1    " IDepartmentRepository
IDepartmentRepository "1"..>"1" DepartmentRepository
AddressFactory  ..|> AddressFactoryInterface
AddressFactoryInterface ..> "<<root>>Address"
"<<root>>Address""1" <-- "1" "<<Root>>Teacher"
"<<Root>>Teacher"  "*" --> "1               " "<<Root>>Department"
TeacherRepository ..> "<<Root>>Teacher"
TeacherRepository  .u.>             TeacherListFactoryInterface
TeacherRepository  .u.>             TeacherFactoryInterface
TeacherFactory ..|> TeacherFactoryInterface
TeacherFactoryInterface ..> "<<Root>>Teacher"
TeacherListFactoryInterface  ..>    ArrayList
TeacherRepository "1" --> "  _arrayList *" ArrayList
ArrayList "1" --> "    _teacher  *" "<<Root>>Teacher"
TeacherListFactory ..|> TeacherListFactoryInterface
DepartmentRepository ->"1       " "<<Root>>Department"
ITeacherRepository "1"..|>"1" TeacherRepository
ITeacherRepository ..> US04_IWantToRegisterATeacherInTheSystemController


@enduml
