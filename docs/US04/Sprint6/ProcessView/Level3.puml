@startuml

title US04: \n As an Administrator, I want to register a teacher in the system. \n Process View Level 3
autonumber

skinparam sequence {
    LifelineBorderColor black
    LifelineBackgroundColor LightBlue
    ActorBorderColor black
    ActorBackgroundColor LightGray
    GroupBorderColor #cccccc
    GroupBackgroundColor #f2f2f2
}

actor Administrator
participant ":FrontEnd" as UI
participant ":Controller" as CT
participant ":Service" as SE
participant ":Domain" as DM
participant ":Repository" as RE



group Human Interaction
Administrator -> UI ++: Request to register Teacher.
UI --> Administrator --: Prompt: "Enter Teacher's Information"
Administrator -> UI ++: Input: "teacherID, name, email, NIF, countryCode, \n phoneNumber, academicBackground, \n street, postalCode, location, country"
end group

group HTTP Request
UI -> CT ++: (GET) /departments
end group

group Application Service Invocation
CT -> DS ++: findDepartments(searchTerm)
DS -> DR ++: findDepartments(searchTerm)

DR --> DS --: List<Department>

DS --> CT --: List<Department>

CT -> DA ++: toDto(Department)

DA --> CT --: DepartmentDto
end group

group HTTP Response
CT --> UI--:  200 OK (List<DepartmentDto>)
end group

group Human Interaction
UI --> Administrator --: Display Department List. \n Prompt: "Select one Department.
Administrator -> UI ++: Select Department
end group

group HTTP Request
UI -> CT ++: (POST) /teachers with JSON {request}
end group

group Application Service Invocation
RC -> SE ++: createAndSaveTeacher(command)
SE -> DM ++: Teacher teacher = new Teacher(teacherID, name, email, NIF, countryCode, \n phoneNumber, academicBackground, \n street, postalCode, location, country)
DM --> SE --: teacher
SE -> RE ++: save(teacher)
RE --> SE --: Persisted teacher
SE --> CT --: teacher


CT --> UI --: HTTP 200 OK + teacherDTO
UI --> Administrator --: Teacher registered successfully
TA --> RC --: teacherAcronym, name, email, nif, phoneNumber,\n academicBackground,street,postalcode,location,country, departmentID

@enduml
