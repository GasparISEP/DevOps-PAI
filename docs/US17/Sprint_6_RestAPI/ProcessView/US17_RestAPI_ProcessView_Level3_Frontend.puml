@startuml

' US17 - Frontend Granular Flow
' Process View - Level 3 Frontend

autonumber

title US17: Enrol a Student in a ProgrammeEdition \n (Process View - Level 3 Frontend)

actor ASC
participant ":StudentEnrolmentForm.vue" as form <<component>> <<ViewComponent>>
participant ":StudentEnrolmentFrontendService" as frontendService <<component>> <<Service>>
participant ":Router" as router <<component>> <<Router>>

ASC -> form ++: Open enrolment page

form -> frontendService ++: getAllStudents()
frontendService --> form --: List<StudentDTO>

form -> frontendService ++: getProgrammeEditionsByStudent(studentId)
frontendService --> form --: List<ProgrammeEditionDTO>

ASC -> form ++: Submit form (studentId, programmeAcronym, programmeName, schoolYearId)
form -> router ++: POST /programmeeditions/{programmeAcronym}/{programmeName}/{schoolYearId}/enrolments\nBody: studentId

router --> form --: 201 Created
form --> ASC --: Display success message

@enduml
