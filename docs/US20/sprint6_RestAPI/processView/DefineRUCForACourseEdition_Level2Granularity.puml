@startuml
title US20 – Define RUC for Course Edition\n(Process View – Granularity Level 2)

skinparam titleFontName "Verdana"
skinparam defaultFontName "Verdana"
skinparam defaultTextAlignment center
skinparam shadowing true
skinparam actorBackgroundColor #lightblue
skinparam participantBackgroundColor #lightblue/white

autonumber

participant ":Frontend" as Frontend <<container>>
participant ":Backend" as Backend <<container>>
participant ":Database" as DB <<container>>

-> Frontend: I want to define the RUC for a course edition
activate Frontend #E1F5FE

' --- Select teachers ---
Frontend -> Backend: (GET) Request list of teachers
activate Backend #E1F5FE
Backend -> DB: Retrieve all teachers
activate DB #E1F5FE
DB --> Backend: List of teachers
deactivate DB
Backend --> Frontend: (200 OK) List of teachers
deactivate Backend
<-- Frontend : Display teacher selection list

-> Frontend: Select a teacher

' --- Select course edition ---
Frontend -> Backend: (GET) Request list of course editions
activate Backend #E1F5FE
Backend -> DB: Retrieve all course editions
activate DB #E1F5FE
DB --> Backend: List of course editions
deactivate DB
Backend --> Frontend: (200 OK) List of course editions
deactivate Backend
<-- Frontend: Display course edition selection list

-> Frontend: Select a course edition

' --- Confirm selection ---
<-- Frontend: Confirm selected teacher and course edition?

-> Frontend: Yes

' --- Define RUC ---
Frontend -> Backend: (PATCH) Request define RUC for course edition
note right of Frontend #E0E0E0
  Sends selected teacher and course edition (JSON format)
end note
activate Backend #E1F5FE

Backend -> DB: Save teacher as RUC for the selected course edition
activate DB #E1F5FE
DB --> Backend: RUC updated
deactivate DB

Backend --> Frontend: (200 OK) RUC successfully updated
deactivate Backend

<-- Frontend: RUC successfully updated.
deactivate Frontend

@enduml
