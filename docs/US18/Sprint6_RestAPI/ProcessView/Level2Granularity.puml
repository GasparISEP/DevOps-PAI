@startuml

title US18: As an ASC, I want to create a programme edition for the current school year \n (Process View - Level 2 Granularity)

skinparam componentStyle component
skinparam defaultTextAlignment center
skinparam shadowing true

autonumber

actor ASC as ASC

participant "Frontend" as frontend <<component>>
participant "Backend" as backend <<component>>
Database DB

activate ASC
ASC -> frontend: I want to create a programme edition for the current school year!
activate frontend #E1F5FE

frontend -> backend: (GET) Request List Of Programmes
activate backend #E1F5FE
backend -> DB: Fetch all programmes
activate DB #E1F5FE
DB --> backend: List of programmes
deactivate DB #E1F5FE
backend --> frontend: List of programmes


frontend --> ASC: What programme name?

ASC -> frontend: Entered programme name!


frontend -> backend: (GET) Request current school year
backend -> DB: Fetch current school year
activate DB #E1F5FE
DB --> backend: Current school year
deactivate DB #E1F5FE
backend --> frontend: Current school year
frontend --> ASC: What school year uuid?

ASC -> frontend: Entered school year uuid!

frontend --> ASC: Sure?

ASC -> frontend: Yes!

frontend -> backend: (POST) Request create programme edition (name, uuid)

backend -> DB: (INSERT) Persist ProgrammeEdition (name, uuid)
activate DB #E1F5FE
DB --> backend: programmeEdition
deactivate DB

backend --> frontend: (201, Created) programmeEdition created!
deactivate backend

frontend --> ASC: Ok!
deactivate frontend
deactivate ASC

@enduml