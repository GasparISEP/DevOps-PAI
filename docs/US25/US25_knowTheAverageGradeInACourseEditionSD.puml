@startuml
actor ProgrammeDirector
participant ":UI" as UI
participant ":IWantToKnowTheAverageGradeInACourseEditionCtr" as KA
participant "ce1:CourseEdition <<Value Object>>" as CE
participant ":GradeStudentRepository" as GR
participant ":GradeStudent" as GradeStudent
autonumber


ProgrammeDirector -> UI ++ #application: I want to know average grade of Course Edition
UI --> ProgrammeDirector -- : Course Edition?
ProgrammeDirector -> UI ++ #application: Course Edition!
UI -> KA ++ #application : IWantToKnowTheAvg(courseEdition1)
create CE
KA -> CE ++ #application : (courseEdition1)
CE -> KA : (ce1Id)
deactivate CE


KA -> GR ++ #application : knowTheAverageGrade(ce1Id)



loop for each GradeStudent in GR
    GR -> GradeStudent : hasThisCourseEdition(ce1Id)
    activate GradeStudent
    GradeStudent --> GR : True!
    deactivate GradeStudent

    GR -> GradeStudent : knowGrade()
    activate GradeStudent
    GradeStudent --> GR : grade
    deactivate GradeStudent
end


GR --> KA --: Average Grade of courseEdition1
KA --> UI --: Average Grade of courseEdition1
UI --> ProgrammeDirector --: Average Grade of courseEdition1

@enduml