@startuml
skinparam linetype polyline
left to right direction
hide empty methods
hide empty members
title "Domain Diagram"

' Entities
entity Facility {
}

entity "School Year" {
  startYear
  endYear
}

entity Department {
  name
  acronym
}

entity Course {
  name
  acronym
  qtyECTS
}

entity Course_Edition {
  schoolYear
}

entity Address {
  postalCode
  street
  city
  country
}

entity "Teacher Category" {
  categoryName
}

entity Teacher {
  name
  acronym
  NIF
  email
  phoneNumber
}

entity Programme {
  name
  acronym
  qtyECTS
  qtySemesters
}

entity ProgrammeEdition {
  schoolYear
}
entity Enrolment {
}

entity EnrolmentProgramme {
   date
}
entity EnrolmentCourse {
   date
}

entity Student {
  uniqueNumber
  name
  NIF
  phoneNumber
  email
}

entity "Degree Type" {
  name
  maxECTS
}

entity "Access Method" {
  name
}

entity "Grade Student" {
  grade
  date
}

entity "studyPlan" {
}

entity "Teacher Career" {
  workingPercentage
  date
}


Facility "1..*" -- "1" Department : Aggregates <
Department "1" --- "1   " Teacher : Department Director oversees <
Department "1" --- "*" Teacher : Aggregates >
Course "*" -- "*" Teacher : Teaches <
Course "1" -right- "*" Course_Edition : > Has
Course "*" -- "1" "studyPlan" : > Has
"studyPlan" "1" -- "1" Programme : < Programme has a studyPlan
Course_Edition "*" -- "1" "School Year" : > Has
"School Year" "1" -- "*" ProgrammeEdition : > Has
Address "1" -- "1" Student : Has <
Teacher "1" -- "1" Address : Has >
"Teacher Career" "*" -- "1" "Teacher Category" : Has >
Programme "1" -- "*" Enrolment : Has >
ProgrammeEdition "+" -- "1" Programme : < Has
ProgrammeEdition "1" -- "*" EnrolmentProgramme : < Happens
EnrolmentProgramme "*" -- "1" Student : < Enrols
Student "1" -right- "*" EnrolmentCourse : > Enrols
EnrolmentCourse "*" -- "1" Course_Edition : > Happens
Programme "*" -- "1" Department : Assigned to >
Student "1" -- "*" "Grade Student" : > Has
"Grade Student" "*" -- "1" Course_Edition : < Has

Programme "1..*" -- "1  " Teacher : Programme Director oversees <
Programme "*" -- "1" "Degree Type" : Has >
Student "1" -- "1..*" Enrolment : Enrols >
Enrolment "1..*" -- "1" "Access Method" : Has >
"Teacher Career" "1..*" -- "1" "Teacher" : Has <
@enduml