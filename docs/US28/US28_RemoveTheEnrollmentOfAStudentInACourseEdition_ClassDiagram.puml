@startuml
!pragma layout smetana

class US28_RemoveTheEnrollmentOfAStudentInACourseEdition_Controller {
    +US28_RemoveTheEnrollmentOfAStudentInACourseEdition_Controller(courseEditionEnrollmentRepository: CourseEditionEnrollmentRepository)
    +removeStudentEnrollment(student: Student, courseEdition: CourseEdition): boolean
}

class CourseEditionEnrollment {
    -_enrollmentDate: LocalDate
    -_isActive: boolean
    +CourseEditionEnrollment(student:Student, courseEdition: CourseEdition)
    +findStudentInCourseEditionEnrollment() : Student
    +findCourseEditionInEnrollment() : CourseEdition
    +isEnrollmentActive(): boolean
    +deactivateEnrollment(): void
}

class CourseEditionEnrollmentRepository {
    +CourseEditionEnrollmentRepository(courseEditionEnrollmentFactory: CourseEditionEnrollmentFactory,
    courseEditionEnrollmentListFactory: CourseEditionEnrollmentListFactory)
    +enrollStudentInACourseEdition (student: Student, courseEdition: CourseEdition): boolean
    +findByStudentAndEdition (student: Student, courseEdition: CourseEdition) : Optional <CourseEditionEnrollment>
    +removeEnrollment (student: Student, courseEdition: CourseEdition) : boolean
}

class Student {
    -_uniqueNumber:String
    -_name:String
    -_NIF:String
    -_phone:String
    -_email:String
    -_address:Address
    -_institutionalEmail:String
    +Student(uniqueNumber: String, name: String, NIF: String, phone: String, email: String, address: Address)
}

class CourseEdition {
    -_course: Course
    -_programmeEdition: ProgrammeEdition
    -_ruc: Teacher
    +CourseEdition(programmeEdition: ProgrammeEdition, course: Course)
}

class CourseEditionEnrollmentFactory {
    +createCourseEditionEnrollment(student: Student, courseEdition: CourseEdition)
}

class CourseEditionEnrollmentListFactory{
+getCourseEditionEnrollmentList(): Set<CourseEditionEnrollment>
}

interface CourseEditionEnrollmentFactoryInterface{
    +createCourseEditionEnrollment(student: Student, courseEdition: CourseEdition)
}
interface CourseEditionEnrollmentListFactoryInterface{
+getCourseEditionEnrollmentList():Set<CourseEditionEnrollment>
}


CourseEditionEnrollment "*" --> "_student 1" Student
CourseEditionEnrollment "*" --> "_courseEdition 1    " CourseEdition
CourseEditionEnrollmentRepository"1"..> "    _courseEditionEnrollments *  "CourseEditionEnrollment
CourseEditionEnrollmentFactory "1" ..> "    1 _courseEditionEnrollment "CourseEditionEnrollment : creates
CourseEditionEnrollmentRepository "1"--> "_courseEditionEnrollmentFactory 1            " CourseEditionEnrollmentFactory : uses
US28_RemoveTheEnrollmentOfAStudentInACourseEdition_Controller "1" ..> "1 " CourseEditionEnrollmentRepository : uses
CourseEditionEnrollmentFactoryInterface "1        " <|.. "1" CourseEditionEnrollmentFactory : implements
CourseEditionEnrollmentRepository "1" --> "              1_courseEditionEnrollmentListFactory" CourseEditionEnrollmentListFactory : uses
CourseEditionEnrollmentListFactoryInterface "1        " <|.. "1" CourseEditionEnrollmentListFactory : implements
CourseEditionEnrollmentRepository ..> CourseEditionEnrollmentFactoryInterface
CourseEditionEnrollmentFactoryInterface ..> CourseEditionEnrollment
CourseEditionEnrollmentRepository .u.> CourseEditionEnrollmentListFactoryInterface

@enduml
